(function(e){function t(t){for(var o,l,r=t[0],s=t[1],c=t[2],u=0,f=[];u<r.length;u++)l=r[u],i[l]&&f.push(i[l][0]),i[l]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);d&&d(t);while(f.length)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,l=1;l<n.length;l++){var s=n[l];0!==i[s]&&(o=!1)}o&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},i={app:0},a=[];function l(e){return r.p+"js/"+({404:"404","file~file-delete":"file~file-delete",file:"file","file-delete":"file-delete",home:"home"}[e]||e)+"."+{404:"4fd5fe82","file~file-delete":"f324d19f",file:"1ce66d64","file-delete":"b331c2da",home:"0a6cd6fb"}[e]+".js"}function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise(function(t,o){n=i[e]=[t,o]});t.push(n[2]=o);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=l(e),a=function(t){s.onerror=s.onload=null,clearTimeout(c);var n=i[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,l=new Error("Loading chunk "+e+" failed.\n("+o+": "+a+")");l.type=o,l.request=a,n[1](l)}i[e]=void 0}};var c=setTimeout(function(){a({type:"timeout",target:s})},12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0c12":function(e,t,n){"use strict";n("cadf"),n("551c"),n("097d");var o=n("2b0e");t["a"]=new o["a"]},"2c61":function(e){e.exports={file:{downloads:"次下载",visits:"次瀏览",downloadFile:"下载文件"},upload:{selectFiles:"选择文件"},language:"转换语言"}},"49f8":function(e,t,n){var o={"./en.json":"edd4","./zh-cn.json":"2c61"};function i(e){var t=a(e);return n(t)}function a(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(o)},i.resolve=a,e.exports=i,i.id="49f8"},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),i=n("0284"),a=n.n(i),l=n("d78e"),r=n.n(l),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("notification"),n("header",{staticClass:"mb-6 mt-6"},[n("h1",{staticClass:"title"},[e._v("Klouderr")]),n("languageSwitcher")],1),e._m(0),n("uploader",{on:{uploaded:e.onFileUploaded}}),n("uploaded-file-list",{attrs:{files:e.uploadedFiles}}),n("router-view")],1)},c=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticClass:"message max-w-md mr-auto ml-auto"},[n("div",{staticClass:"message-body"},[n("p",[e._v("Klouderr is the fastest and most secure way to share your files.\n          Whether you want to send a confidential contract, over 100 holiday photos or\n          a multi-gigabyte video, then Klouderr is the service that fulfills your needs.")]),n("p",[e._v("There are some other services that you can use to transfer files\n          (WeTransfer, HighTail, ...),\n          but we think our service is easier to use, faster and more secure. But don't\n          take our word for it. Try it yourself and send your next transfer using Klouderr.")])])])}],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("file-upload",{ref:"upload",attrs:{maximum:e.maximum,drop:!0,multiple:!0,"post-action":e.postAction,accept:e.allowedExtentions,size:e.size||0},on:{input:e.updatetValue,"input-filter":e.inputFilter},model:{value:e.files,callback:function(t){e.files=t},expression:"files"}},[n("div",{staticClass:"uploadArea"},[n("button",{staticClass:"button is-white"},[e._v(e._s(e.$t("upload.selectFiles")))])])]),n("p",{staticClass:"text-red mt-2"},[e._v(e._s(this.error))]),e.files.length>0?n("div",{staticClass:"mt-6"},[n("p",{staticClass:"mb-2"},[e._v("You chose "+e._s(e.files.length)+" file(s)。")]),n("ul",{staticClass:"fileList shadow"},e._l(e.files,function(t){return n("li",{key:t.id},[e._v("\n        "+e._s(t.name)+"\n        "),n("button",{attrs:{type:"button"},on:{click:function(n){n.preventDefault(),e.remove(t)}}},[e._v("Remove")]),t.active||"0.00"!==t.progress?n("span",[e._v(e._s(t.progress)+"%")]):e._e()])}),0),e.$refs.upload&&e.$refs.upload.active?e._e():n("a",{staticClass:"button is-rounded mt-5",on:{click:function(t){t.preventDefault(),e.$refs.upload.active=!0}}},[e._v("Upload Files")])]):e._e()],1)},d=[],f=(n("7f7f"),n("ac6a"),n("8019")),p=n.n(f),m=n("0c12"),h={data:function(){return{files:[],postAction:"/api/upload",putAction:"/api/upload",error:"",maximum:5,size:52428800,allowedExtentions:"image/*,video/*,application/pdf,application/zip,application/x-rar-compressed,application/x-bittorrent"}},components:{"file-upload":p.a},methods:{remove:function(e){this.$refs.upload.remove(e)},updatetValue:function(e){var t=this;e.forEach(function(e){e.success&&(t.remove(e),t.$emit("uploaded",e.response)),e.error&&m["a"].$emit("error","Unexpected server error, please try again later.")})},inputFilter:function(e,t,n){if(this.error="",0!==this.maximum&&this.files.length>=this.maximum&&e&&!t)return this.error="You can only upload ".concat(this.maximum," at a time。"),n();if(e&&!t){if(!/\.(jpeg|jpg|gif|png|webp|pdf|torrent|zip|rar|mp4)$/i.test(e.name))return this.error="You can't upload ".concat(e.name,"。"),n();if(e.size>this.size)return this.error="File exceeds the maximum size of 50MB",n()}return null}}},v=h,g=n("2877"),b=Object(g["a"])(v,u,d,!1,null,null,null),w=b.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt-6"},[n("ul",{staticClass:"fileList shadow"},e._l(e.files,function(t){return n("li",{key:t.name},[n("div",[e._v(e._s(t.name))]),n("div",{staticClass:"flex justify-center items-center"},[n("span",{staticClass:"mr-4"},[e._v("Download Link")]),n("div",{staticClass:"relative w-3/4"},[n("input",{staticClass:"input cursor-pointer",attrs:{type:"text"},domProps:{value:e._f("fileDownloadPath")(t.encodedName)},on:{click:e.copyToClipboard}}),n("span",{staticClass:"flex items-center h-full px-2 text-white\n            pointer-events-none bg-orange absolute pin-t pin-r"},[e._v("Copy")])])]),n("div",{staticClass:"flex justify-center items-center"},[n("span",{staticClass:"mr-4"},[e._v("Remove Link")]),n("div",{staticClass:"relative w-3/4"},[n("input",{staticClass:"input cursor-pointer",attrs:{type:"text"},domProps:{value:e.getFileRemoveUrl(t.encodedName,t.removeCode)},on:{click:e.copyToClipboard}}),n("span",{staticClass:"flex items-center h-full px-2 text-white\n            pointer-events-none bg-orange absolute pin-t pin-r"},[e._v("Copy")])])])])}),0)])},_=[],x={props:["files"],filters:{fileDownloadPath:function(e){return"".concat(window.location.origin,"/files/").concat(e)}},methods:{getFileRemoveUrl:function(e,t){return"".concat(window.location.origin,"/files/").concat(e,"/delete/").concat(t)},copyToClipboard:function(e){this.copyToClipboardHelper(e.target.value);var t=e.target.nextSibling;t.textContent="Copied",setTimeout(function(){t.textContent="Copy"},1e3)},copyToClipboardHelper:function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);var n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n))}}},C=x,j=Object(g["a"])(C,y,_,!1,null,null,null),k=j.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"notification is-danger",class:{hide:!e.show}},[n("button",{staticClass:"delete",on:{click:e.close}}),e._v("\n  "+e._s(e.message)+"\n")])},O=[],T={data:function(){return{show:!1,message:""}},mounted:function(){var e=this;m["a"].$on("error",function(t){e.message=t,e.show=!0})},methods:{close:function(){this.show=!1}}},$=T,E=Object(g["a"])($,F,O,!1,null,null,null),S=E.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex justify-center align-center"},[n("span",{staticClass:"flex align-center mt-1 mr-8"},[e._v(e._s(e.$t("language")))]),n("button",{staticClass:"button mr-6",class:{"is-white":"zh-cn"!==e.locale,"is-primary":"zh-cn"===e.locale},on:{click:function(t){e.switchLang("zh-cn")}}},[e._v("中文")]),n("button",{staticClass:"button",class:{"is-white":"en"!==e.locale,"is-primary":"en"===e.locale},on:{click:function(t){e.switchLang("en")}}},[e._v("English")])])},P=[],z=(n("4917"),n("a925"));function L(){var e=n("49f8"),t={};return e.keys().forEach(function(n){var o=n.match(/([A-Za-z0-9-_]+)\./i);if(o&&o.length>1){var i=o[1];t[i]=e(n)}}),t}o["a"].use(z["a"]);var D=new z["a"]({locale:"en",fallbackLocale:"en",messages:L()}),U={data:function(){return{locale:D.locale}},mounted:function(){var e=localStorage.getItem("locale");e&&this.switchLang(e)},methods:{switchLang:function(e){D.locale=e,this.locale=e,localStorage.setItem("locale",e)}}},R=U,M=Object(g["a"])(R,A,P,!1,null,null,null),I=M.exports,K={data:function(){return{uploadedFiles:[]}},metaInfo:{title:"",titleTemplate:"%s Klouderr"},components:{uploader:w,"uploaded-file-list":k,notification:S,languageSwitcher:I},methods:{onFileUploaded:function(e){this.uploadedFiles.unshift(e)}}},N=K,H=(n("5c0b"),Object(g["a"])(N,s,c,!1,null,null,null)),V=H.exports,Y=n("8c4f"),B=n("0a89"),J=n.n(B);o["a"].use(Y["a"]),o["a"].use(J.a);var W=new Y["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:n.e("home").then(n.bind(null,"bb51"))},{path:"/files/:id",name:"file-download",component:function(){return Promise.all([n.e("file~file-delete"),n.e("file")]).then(n.bind(null,"9c88"))}},{path:"/files/:id/delete/:code",name:"file-delete",component:function(){return Promise.all([n.e("file~file-delete"),n.e("file-delete")]).then(n.bind(null,"370f"))}},{path:"/404",name:"404",component:function(){return n.e("404").then(n.bind(null,"9703"))}},{path:"*",redirect:"/404"}]});n("9299");o["a"].use(n("395c")),o["a"].use(r.a.Adsense),o["a"].use(r.a.InArticleAdsense),o["a"].use(r.a.InFeedAdsense),o["a"].config.productionTip=!1,o["a"].use(a.a,{id:"UA-129732371-2",router:W}),new o["a"]({router:W,i18n:D,render:function(e){return e(V)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var o=n("5e27"),i=n.n(o);i.a},"5e27":function(e,t,n){},9299:function(e,t,n){},edd4:function(e){e.exports={file:{downloads:"Downloads",visits:"Visits",downloadFile:"Download File"},upload:{selectFiles:"Select Files"},language:"Switch language"}}});
//# sourceMappingURL=app.cc7fa88d.js.map