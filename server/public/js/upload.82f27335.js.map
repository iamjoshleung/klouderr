{"version":3,"sources":["webpack:///./src/views/Upload.vue?cad0","webpack:///./src/components/Uploader.vue?50fb","webpack:///src/components/Uploader.vue","webpack:///./src/components/Uploader.vue?85de","webpack:///./src/components/Uploader.vue","webpack:///./src/components/UploadedFiles.vue?1dff","webpack:///src/components/UploadedFiles.vue","webpack:///./src/components/UploadedFiles.vue?67af","webpack:///./src/components/UploadedFiles.vue","webpack:///src/views/Upload.vue","webpack:///./src/views/Upload.vue?2d03","webpack:///./src/views/Upload.vue","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/vue-upload-component/dist/vue-upload-component.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","on","onFileUploaded","attrs","uploadedFiles","staticRenderFns","ref","maximum","postAction","allowedExtentions","size","updatetValue","inputFilter","model","value","callback","$$v","files","expression","staticClass","_v","_s","$t","error","length","num","_l","file","key","id","name","$event","preventDefault","remove","active","progress","domProps","Math","round","_e","$refs","upload","data","components","methods","forEach","success","prevent","newFile","oldFile","component","_f","encodedName","copyToClipboard","getFileRemoveUrl","removeCode","props","filters","fileDownloadPath","copyToClipboardHelper","evt","target","node","textContent","setTimeout","el","str","setAttribute","style","position","left","document","body","appendChild","select","execCommand","removeChild","selected","getSelection","removeAllRanges","addRange","uploader","Uploader","unshift","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get","match","e","global","factory","module","exports","createRequest","options","xhr","XMLHttpRequest","open","method","url","responseType","headers","Object","keys","setRequestHeader","sendRequest","Promise","resolve","reject","onload","status","response","JSON","parse","err","onerror","send","stringify","sendFormRequest","FormData","append","request","_createClass","defineProperties","i","descriptor","enumerable","writable","defineProperty","Constructor","protoProps","staticProps","_classCallCheck","instance","TypeError","ChunkUploadHandler","chunks","sessionId","chunkSize","speedInterval","start","end","fileSize","push","blob","slice","startOffset","retries","maxRetries","stopChunks","chunksUploading","chunk","abort","stopSpeedCalc","startChunking","_this","promise","_this2","assign","action","startBody","phase","mime_type","fileType","fileName","then","res","session_id","end_offset","createChunks","catch","maxActiveChunks","uploadNextChunk","startSpeedCalc","hasChunksToUpload","uploadChunk","chunksToUpload","finish","_this3","updateFileProgress","addEventListener","lengthComputable","loaded","total","uploadBody","start_offset","uploaded","_this4","finishBody","_this5","speed","lastUploadedBytes","window","setInterval","uploadedBytes","clearInterval","parseInt","maxActive","type","_this6","completedProgress","chunksUploaded","uploadingProgress","reduce","min","filter","script","change","$parent","addInputFile","test","navigator","userAgent","$destroy","constructor","parent","$el","normalizeComponent","template","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","hook","_compiled","functional","_scopeId","context","$vnode","ssrContext","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","originalRender","h","existing","beforeCreate","concat","normalizeComponent_1","__vue_script__","__vue_render__","inputId","accept","capture","disabled","directory","features","multiple","html5","__vue_staticRenderFns__","__vue_inject_styles__","undefined","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","InputFile","_extends","arguments","source","hasOwnProperty","_typeof","Symbol","iterator","obj","_toConsumableArray","arr","Array","isArray","arr2","from","CHUNK_DEFAULT_OPTIONS","minSize","handler","script$1","String","default","Boolean","Number","addIndex","putAction","customAction","timeout","drop","dropDirectory","extensions","thread","chunkEnabled","dropActive","uploading","destroy","mounted","input","createElement","webkitdirectory","ondrop","maps","$nextTick","$forceUpdate","watchDrop","beforeDestroy","computed","fileObject","chunkOptions","className","watch","_active","watchActive","oldMaps","emitFile","_key","clear","emitInput","_files","index","addFiles","Blob","webkitRelativePath","relativePath","Element","random","toString","substr","emitFilter","newFiles","_newFiles","splice","apply","_i","_file2","_i2","names","replace","split","__vuex__","addDataTransfer","dataTransfer","items","item","getAsEntry","getAsFile","webkitGetAsEntry","getEntry","results","_i3","entry","path","isFile","isDirectory","dirReader","createReader","readEntries","entries","id1","id2","file1","file2","index1","indexOf","index2","console","update","isPrevent","$emit","code","message","RegExp","map","trim","join","search","shouldUseChunkUpload","uploadPut","uploadHtml5","uploadHtml4","HandlerClass","querys","encodeURIComponent","queryString","uploadXhr","form","File","filename","_file","speedTime","speedLoaded","onprogress","speedTime2","Date","now","toFixed","interval","complete","fn","responseText","contentType","getResponseHeader","onabort","ontimeout","onKeydown","keyCode","iframe","src","getResponseData","doc","contentWindow","contentDocument","innerHTML","removeEventListener","submit","parentNode","_el","dropElement","onDragenter","onDragleave","onDocumentDrop","onDragover","onDrop","querySelector","dt","types","contains","nodeName","explicitOriginalTarget","fromElement","clientX","clientY","innerWidth","innerHeight","isOldIE","toLowerCase","addStyle","HEAD","head","getElementsByTagName","styles","css","group","media","ids","Set","has","sources","btoa","unescape","element","styleSheet","cssText","textNode","createTextNode","nodes","childNodes","insertBefore","browser","__vue_script__$1","__vue_render__$1","class","_t","__vue_staticRenderFns__$1","__vue_inject_styles__$1","inject","__vue_scope_id__$1","__vue_module_identifier__$1","__vue_is_functional_template__$1","FileUpload","FileUpload$1","freeze","getCjsExportFromNamespace","n","require$$0"],"mappings":"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","file":"js/upload.82f27335.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('uploader',{on:{\"uploaded\":_vm.onFileUploaded}}),_c('uploaded-file-list',{attrs:{\"files\":_vm.uploadedFiles}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('file-upload',{ref:\"upload\",attrs:{\"maximum\":_vm.maximum,\"drop\":true,\"multiple\":true,\"post-action\":_vm.postAction,\"accept\":_vm.allowedExtentions,\"size\":_vm.size || 0},on:{\"input\":_vm.updatetValue,\"input-filter\":_vm.inputFilter},model:{value:(_vm.files),callback:function ($$v) {_vm.files=$$v},expression:\"files\"}},[_c('div',{staticClass:\"upload-area\"},[_c('p',{staticClass:\"block\"},[_vm._v(_vm._s(_vm.$t('upload.drop-here')))]),_c('button',{staticClass:\"button is-primary is-rounded is-large\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t(\"upload.selectFiles\")))])])]),_c('p',{staticClass:\"text-red mt-2\"},[_vm._v(_vm._s(this.error))]),(_vm.files.length > 0)?_c('div',{staticClass:\"mt-6\"},[_c('p',{staticClass:\"mb-2\"},[_vm._v(_vm._s(_vm.$t('upload.files-chosen', { num: _vm.files.length })))]),_c('ul',{staticClass:\"file-list\"},_vm._l((_vm.files),function(file){return _c('li',{key:file.id},[_c('div',{staticClass:\"flex items-center justify-between\"},[_c('span',[_vm._v(_vm._s(file.name))]),_c('button',{staticClass:\"delete\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.remove(file)}}})]),_c('div',[(file.active || file.progress !== '0.00')?_c('progress',{staticClass:\"progress is-small is-primary\",attrs:{\"max\":\"100\"},domProps:{\"value\":Math.round(file.progress)}},[_vm._v(_vm._s(file.progress)+\"%\")]):_vm._e()])])}),0),(!_vm.$refs.upload || !_vm.$refs.upload.active)?_c('a',{staticClass:\"button is-rounded mt-5\",on:{\"click\":function($event){$event.preventDefault();_vm.$refs.upload.active = true}}},[_vm._v(_vm._s(_vm.$t('upload.start-uploading')))]):_vm._e()]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <file-upload\n      ref=\"upload\"\n      :maximum=\"maximum\"\n      :drop=\"true\"\n      :multiple=\"true\"\n      v-model=\"files\"\n      @input=\"updatetValue\"\n      @input-filter=\"inputFilter\"\n      :post-action=\"postAction\"\n      :accept=\"allowedExtentions\"\n      :size=\"size || 0\"\n    >\n      <div class=\"upload-area\">\n        <p class=\"block\">{{ $t('upload.drop-here') }}</p>\n        <button class=\"button is-primary is-rounded is-large\">\n          {{ $t(\"upload.selectFiles\") }}</button>\n      </div>\n    </file-upload>\n    <p class=\"text-red mt-2\">{{ this.error }}</p>\n    <div class=\"mt-6\" v-if=\"files.length > 0\">\n      <p class=\"mb-2\">{{ $t('upload.files-chosen', { num: files.length }) }}</p>\n      <ul class=\"file-list\">\n        <li v-for=\"file in files\" :key=\"file.id\">\n          <div class=\"flex items-center justify-between\">\n            <span>{{ file.name }}</span>\n            <button class=\"delete\" type=\"button\" @click.prevent=\"remove(file)\"></button>\n          </div>\n          <div>\n            <progress v-if=\"file.active || file.progress !== '0.00'\"\n            class=\"progress is-small is-primary\"\n            :value=\"Math.round(file.progress)\"\n            max=\"100\">{{ file.progress }}%</progress>\n          </div>\n        </li>\n      </ul>\n      <a\n        class=\"button is-rounded mt-5\"\n        v-if=\"!$refs.upload || !$refs.upload.active\"\n        @click.prevent=\"$refs.upload.active = true\"\n      >{{ $t('upload.start-uploading') }}</a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport VueUploadComponent from 'vue-upload-component';\nimport EventBus from '@/eventBus';\n\nexport default {\n  data: () => ({\n    files: [],\n    postAction: '/api/upload',\n    putAction: '/api/upload',\n    error: '',\n    maximum: 5,\n    size: 1024 * 1024 * 150,\n    allowedExtentions:\n      'image/*,video/*,application/pdf,application/zip,application/x-rar-compressed,application/x-bittorrent',\n  }),\n  components: {\n    'file-upload': VueUploadComponent,\n  },\n  methods: {\n    remove(file) {\n      this.$refs.upload.remove(file);\n    },\n\n    updatetValue(files) {\n      files.forEach((file) => {\n        // when a file is successfully uploaded to the server,\n        // remove it from the file list\n        if (file.success) {\n          this.remove(file);\n          this.$emit('uploaded', file.response);\n        }\n\n        if (file.error) {\n          EventBus.$emit('error', 'Unexpected server error, please try again later.');\n        }\n      });\n    },\n\n    inputFilter(newFile, oldFile, prevent) {\n      this.error = '';\n\n      // show error msg when maximum files exceeded.\n      if (\n        this.maximum !== 0\n        && this.files.length >= this.maximum\n        && newFile\n        && !oldFile\n      ) {\n        this.error = `You can only upload ${this.maximum} at a time。`;\n        return prevent();\n      }\n\n      if (newFile && !oldFile) {\n        // Add file\n\n        if (\n          !/\\.(jpeg|jpg|gif|png|webp|pdf|torrent|zip|rar|mp4)$/i.test(\n            newFile.name,\n          )\n        ) {\n          this.error = `You can't upload ${newFile.name}。`;\n          return prevent();\n        }\n\n        if (newFile.size > this.size) {\n          this.error = 'File exceeds the maximum size of 150MB';\n          return prevent();\n        }\n      }\n      return null;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Uploader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Uploader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Uploader.vue?vue&type=template&id=ac53d892&\"\nimport script from \"./Uploader.vue?vue&type=script&lang=js&\"\nexport * from \"./Uploader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mt-6\"},[_c('ul',{staticClass:\"fileList\"},_vm._l((_vm.files),function(file){return _c('li',{key:file.name,staticClass:\"mb-12\"},[_c('div',{staticClass:\"title is-6 mb-2\"},[_vm._v(_vm._s(file.name))]),_c('div',{staticClass:\"flex justify-between items-center mb-4\"},[_c('span',{staticClass:\"mr-4\"},[_vm._v(_vm._s(_vm.$t('upload.download-link')))]),_c('div',{staticClass:\"relative w-3/4\"},[_c('input',{staticClass:\"input cursor-pointer\",attrs:{\"type\":\"text\"},domProps:{\"value\":_vm._f(\"fileDownloadPath\")(file.encodedName)},on:{\"click\":_vm.copyToClipboard}}),_c('span',{staticClass:\"flex items-center h-full px-2 text-white\\n            pointer-events-none bg-black absolute pin-t pin-r\"},[_vm._v(_vm._s(_vm.$t('upload.copy')))])])]),_c('div',{staticClass:\"flex justify-between items-center\"},[_c('span',{staticClass:\"mr-4\"},[_vm._v(_vm._s(_vm.$t('upload.remove-link')))]),_c('div',{staticClass:\"relative w-3/4\"},[_c('input',{staticClass:\"input cursor-pointer\",attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.getFileRemoveUrl(file.encodedName, file.removeCode)},on:{\"click\":_vm.copyToClipboard}}),_c('span',{staticClass:\"flex items-center h-full px-2 text-white\\n            pointer-events-none bg-black absolute pin-t pin-r\"},[_vm._v(_vm._s(_vm.$t('upload.copy')))])])])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"mt-6\">\n      <ul class=\"fileList\">\n        <li class=\"mb-12\" v-for=\"file in files\" :key=\"file.name\">\n          <div class=\"title is-6 mb-2\">{{ file.name }}</div>\n          <div class=\"flex justify-between items-center mb-4\">\n            <span class=\"mr-4\">{{ $t('upload.download-link') }}</span>\n            <div class=\"relative w-3/4\">\n              <input\n                @click=\"copyToClipboard\"\n                class=\"input cursor-pointer\"\n                type=\"text\"\n                :value=\"file.encodedName | fileDownloadPath\"\n              >\n              <span\n                class=\"flex items-center h-full px-2 text-white\n                pointer-events-none bg-black absolute pin-t pin-r\"\n              >{{ $t('upload.copy') }}</span>\n            </div>\n          </div>\n          <div class=\"flex justify-between items-center\">\n            <span class=\"mr-4\">{{ $t('upload.remove-link') }}</span>\n            <div class=\"relative w-3/4\">\n              <input\n                @click=\"copyToClipboard\"\n                class=\"input cursor-pointer\"\n                type=\"text\"\n                :value=\"getFileRemoveUrl(file.encodedName, file.removeCode)\"\n              >\n              <span\n                class=\"flex items-center h-full px-2 text-white\n                pointer-events-none bg-black absolute pin-t pin-r\"\n              >{{ $t('upload.copy') }}</span>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n</template>\n\n<script>\nexport default {\n  props: ['files'],\n  filters: {\n    fileDownloadPath(val) {\n      return `${window.location.origin}/files/${val}`;\n    },\n  },\n  methods: {\n    getFileRemoveUrl(id, removeCode) {\n      return `${window.location.origin}/files/${id}/delete/${removeCode}`;\n    },\n\n    copyToClipboard(evt) {\n      this.copyToClipboardHelper(evt.target.value);\n\n      const node = evt.target.nextSibling;\n\n      node.textContent = this.$t('upload.copied');\n\n      setTimeout(() => {\n        node.textContent = this.$t('upload.copy');\n      }, 1000);\n    },\n\n    copyToClipboardHelper(str) {\n      const el = document.createElement('textarea');\n      el.value = str;\n      el.setAttribute('readonly', '');\n      el.style.position = 'absolute';\n      el.style.left = '-9999px';\n      document.body.appendChild(el);\n      const selected = document.getSelection().rangeCount > 0\n        ? document.getSelection().getRangeAt(0)\n        : false;\n      el.select();\n      document.execCommand('copy');\n      document.body.removeChild(el);\n      if (selected) {\n        document.getSelection().removeAllRanges();\n        document.getSelection().addRange(selected);\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadedFiles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadedFiles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadedFiles.vue?vue&type=template&id=75952ac6&\"\nimport script from \"./UploadedFiles.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadedFiles.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div>\n        <uploader @uploaded=\"onFileUploaded\"></uploader>\n        <uploaded-file-list :files=\"uploadedFiles\"></uploaded-file-list>\n    </div>\n</template>\n\n<script>\nimport Uploader from '@/components/Uploader.vue';\nimport UploadedFileList from '@/components/UploadedFiles.vue';\n\nexport default {\n  data: () => ({\n    uploadedFiles: [],\n  }),\n  components: {\n    uploader: Uploader,\n    'uploaded-file-list': UploadedFileList,\n  },\n\n  methods: {\n    onFileUploaded(file) {\n      this.uploadedFiles.unshift(file);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Upload.vue?vue&type=template&id=707f4134&\"\nimport script from \"./Upload.vue?vue&type=script&lang=js&\"\nexport * from \"./Upload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","/*!\n * Name: vue-upload-component\n * Version: 2.8.21\n * Author: Marco Lang\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.VueUploadComponent = factory());\n}(this, (function () { 'use strict';\n\n  /**\n   * Creates a XHR request\n   *\n   * @param {Object} options\n   */\n  var createRequest = function createRequest(options) {\n    var xhr = new XMLHttpRequest();\n    xhr.open(options.method || 'GET', options.url);\n    xhr.responseType = 'json';\n    if (options.headers) {\n      Object.keys(options.headers).forEach(function (key) {\n        xhr.setRequestHeader(key, options.headers[key]);\n      });\n    }\n\n    return xhr;\n  };\n\n  /**\n   * Sends a XHR request with certain body\n   *\n   * @param {XMLHttpRequest} xhr\n   * @param {Object} body\n   */\n  var sendRequest = function sendRequest(xhr, body) {\n    return new Promise(function (resolve, reject) {\n      xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          var response;\n          try {\n            response = JSON.parse(xhr.response);\n          } catch (err) {\n            response = xhr.response;\n          }\n          resolve(response);\n        } else {\n          reject(xhr.response);\n        }\n      };\n      xhr.onerror = function () {\n        return reject(xhr.response);\n      };\n      xhr.send(JSON.stringify(body));\n    });\n  };\n\n  /**\n   * Sends a XHR request with certain form data\n   *\n   * @param {XMLHttpRequest} xhr\n   * @param {Object} data\n   */\n  var sendFormRequest = function sendFormRequest(xhr, data) {\n    var body = new FormData();\n    for (var name in data) {\n      body.append(name, data[name]);\n    }\n\n    return new Promise(function (resolve, reject) {\n      xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          var response;\n          try {\n            response = JSON.parse(xhr.response);\n          } catch (err) {\n            response = xhr.response;\n          }\n          resolve(response);\n        } else {\n          reject(xhr.response);\n        }\n      };\n      xhr.onerror = function () {\n        return reject(xhr.response);\n      };\n      xhr.send(body);\n    });\n  };\n\n  /**\n   * Creates and sends XHR request\n   *\n   * @param {Object} options\n   *\n   * @returns Promise\n   */\n  function request (options) {\n    var xhr = createRequest(options);\n\n    return sendRequest(xhr, options.body);\n  }\n\n  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  var ChunkUploadHandler = function () {\n    /**\n     * Constructor\n     *\n     * @param {File} file\n     * @param {Object} options\n     */\n    function ChunkUploadHandler(file, options) {\n      _classCallCheck(this, ChunkUploadHandler);\n\n      this.file = file;\n      this.options = options;\n      this.chunks = [];\n      this.sessionId = null;\n      this.chunkSize = null;\n      this.speedInterval = null;\n    }\n\n    /**\n     * Gets the max retries from options\n     */\n\n\n    _createClass(ChunkUploadHandler, [{\n      key: 'createChunks',\n\n\n      /**\n       * Creates all the chunks in the initial state\n       */\n      value: function createChunks() {\n        this.chunks = [];\n\n        var start = 0;\n        var end = this.chunkSize;\n        while (start < this.fileSize) {\n          this.chunks.push({\n            blob: this.file.file.slice(start, end),\n            startOffset: start,\n            active: false,\n            retries: this.maxRetries\n          });\n          start = end;\n          end = start + this.chunkSize;\n        }\n      }\n\n      /**\n       * Updates the progress of the file with the handler's progress\n       */\n\n    }, {\n      key: 'updateFileProgress',\n      value: function updateFileProgress() {\n        this.file.progress = this.progress;\n      }\n\n      /**\n       * Paues the upload process\n       * - Stops all active requests\n       * - Sets the file not active\n       */\n\n    }, {\n      key: 'pause',\n      value: function pause() {\n        this.file.active = false;\n        this.stopChunks();\n      }\n\n      /**\n       * Stops all the current chunks\n       */\n\n    }, {\n      key: 'stopChunks',\n      value: function stopChunks() {\n        this.chunksUploading.forEach(function (chunk) {\n          chunk.xhr.abort();\n          chunk.active = false;\n        });\n\n        this.stopSpeedCalc();\n      }\n\n      /**\n       * Resumes the file upload\n       * - Sets the file active\n       * - Starts the following chunks\n       */\n\n    }, {\n      key: 'resume',\n      value: function resume() {\n        this.file.active = true;\n        this.startChunking();\n      }\n\n      /**\n       * Starts the file upload\n       *\n       * @returns Promise\n       * - resolve  The file was uploaded\n       * - reject   The file upload failed\n       */\n\n    }, {\n      key: 'upload',\n      value: function upload() {\n        var _this = this;\n\n        this.promise = new Promise(function (resolve, reject) {\n          _this.resolve = resolve;\n          _this.reject = reject;\n        });\n        this.start();\n\n        return this.promise;\n      }\n\n      /**\n       * Start phase\n       * Sends a request to the backend to initialise the chunks\n       */\n\n    }, {\n      key: 'start',\n      value: function start() {\n        var _this2 = this;\n\n        request({\n          method: 'POST',\n          headers: Object.assign({}, this.headers, {\n            'Content-Type': 'application/json'\n          }),\n          url: this.action,\n          body: Object.assign(this.startBody, {\n            phase: 'start',\n            mime_type: this.fileType,\n            size: this.fileSize,\n            name: this.fileName\n          })\n        }).then(function (res) {\n          if (res.status !== 'success') {\n            _this2.file.response = res;\n            return _this2.reject('server');\n          }\n\n          _this2.sessionId = res.data.session_id;\n          _this2.chunkSize = res.data.end_offset;\n\n          _this2.createChunks();\n          _this2.startChunking();\n        }).catch(function (res) {\n          _this2.file.response = res;\n          _this2.reject('server');\n        });\n      }\n\n      /**\n       * Starts to upload chunks\n       */\n\n    }, {\n      key: 'startChunking',\n      value: function startChunking() {\n        for (var i = 0; i < this.maxActiveChunks; i++) {\n          this.uploadNextChunk();\n        }\n\n        this.startSpeedCalc();\n      }\n\n      /**\n       * Uploads the next chunk\n       * - Won't do anything if the process is paused\n       * - Will start finish phase if there are no more chunks to upload\n       */\n\n    }, {\n      key: 'uploadNextChunk',\n      value: function uploadNextChunk() {\n        if (this.file.active) {\n          if (this.hasChunksToUpload) {\n            return this.uploadChunk(this.chunksToUpload[0]);\n          }\n\n          if (this.chunksUploading.length === 0) {\n            return this.finish();\n          }\n        }\n      }\n\n      /**\n       * Uploads a chunk\n       * - Sends the chunk to the backend\n       * - Sets the chunk as uploaded if everything went well\n       * - Decreases the number of retries if anything went wrong\n       * - Fails if there are no more retries\n       *\n       * @param {Object} chunk\n       */\n\n    }, {\n      key: 'uploadChunk',\n      value: function uploadChunk(chunk) {\n        var _this3 = this;\n\n        chunk.progress = 0;\n        chunk.active = true;\n        this.updateFileProgress();\n        chunk.xhr = createRequest({\n          method: 'POST',\n          headers: this.headers,\n          url: this.action\n        });\n\n        chunk.xhr.upload.addEventListener('progress', function (evt) {\n          if (evt.lengthComputable) {\n            chunk.progress = Math.round(evt.loaded / evt.total * 100);\n          }\n        }, false);\n\n        sendFormRequest(chunk.xhr, Object.assign(this.uploadBody, {\n          phase: 'upload',\n          session_id: this.sessionId,\n          start_offset: chunk.startOffset,\n          chunk: chunk.blob\n        })).then(function (res) {\n          chunk.active = false;\n          if (res.status === 'success') {\n            chunk.uploaded = true;\n          } else {\n            if (chunk.retries-- <= 0) {\n              _this3.stopChunks();\n              return _this3.reject('upload');\n            }\n          }\n\n          _this3.uploadNextChunk();\n        }).catch(function () {\n          chunk.active = false;\n          if (chunk.retries-- <= 0) {\n            _this3.stopChunks();\n            return _this3.reject('upload');\n          }\n\n          _this3.uploadNextChunk();\n        });\n      }\n\n      /**\n       * Finish phase\n       * Sends a request to the backend to finish the process\n       */\n\n    }, {\n      key: 'finish',\n      value: function finish() {\n        var _this4 = this;\n\n        this.updateFileProgress();\n        this.stopSpeedCalc();\n\n        request({\n          method: 'POST',\n          headers: Object.assign({}, this.headers, {\n            'Content-Type': 'application/json'\n          }),\n          url: this.action,\n          body: Object.assign(this.finishBody, {\n            phase: 'finish',\n            session_id: this.sessionId\n          })\n        }).then(function (res) {\n          _this4.file.response = res;\n          if (res.status !== 'success') {\n            return _this4.reject('server');\n          }\n\n          _this4.resolve(res);\n        }).catch(function (res) {\n          _this4.file.response = res;\n          _this4.reject('server');\n        });\n      }\n\n      /**\n       * Sets an interval to calculate and\n       * set upload speed every 3 seconds\n       */\n\n    }, {\n      key: 'startSpeedCalc',\n      value: function startSpeedCalc() {\n        var _this5 = this;\n\n        this.file.speed = 0;\n        var lastUploadedBytes = 0;\n        if (!this.speedInterval) {\n          this.speedInterval = window.setInterval(function () {\n            var uploadedBytes = _this5.progress / 100 * _this5.fileSize;\n            _this5.file.speed = uploadedBytes - lastUploadedBytes;\n            lastUploadedBytes = uploadedBytes;\n          }, 1000);\n        }\n      }\n\n      /**\n       * Removes the upload speed interval\n       */\n\n    }, {\n      key: 'stopSpeedCalc',\n      value: function stopSpeedCalc() {\n        this.speedInterval && window.clearInterval(this.speedInterval);\n        this.speedInterval = null;\n        this.file.speed = 0;\n      }\n    }, {\n      key: 'maxRetries',\n      get: function get() {\n        return parseInt(this.options.maxRetries, 10);\n      }\n\n      /**\n       * Gets the max number of active chunks being uploaded at once from options\n       */\n\n    }, {\n      key: 'maxActiveChunks',\n      get: function get() {\n        return parseInt(this.options.maxActive, 10);\n      }\n\n      /**\n       * Gets the file type\n       */\n\n    }, {\n      key: 'fileType',\n      get: function get() {\n        return this.file.type;\n      }\n\n      /**\n       * Gets the file size\n       */\n\n    }, {\n      key: 'fileSize',\n      get: function get() {\n        return this.file.size;\n      }\n\n      /**\n       * Gets the file name\n       */\n\n    }, {\n      key: 'fileName',\n      get: function get() {\n        return this.file.name;\n      }\n\n      /**\n       * Gets action (url) to upload the file\n       */\n\n    }, {\n      key: 'action',\n      get: function get() {\n        return this.options.action || null;\n      }\n\n      /**\n       * Gets the body to be merged when sending the request in start phase\n       */\n\n    }, {\n      key: 'startBody',\n      get: function get() {\n        return this.options.startBody || {};\n      }\n\n      /**\n       * Gets the body to be merged when sending the request in upload phase\n       */\n\n    }, {\n      key: 'uploadBody',\n      get: function get() {\n        return this.options.uploadBody || {};\n      }\n\n      /**\n       * Gets the body to be merged when sending the request in finish phase\n       */\n\n    }, {\n      key: 'finishBody',\n      get: function get() {\n        return this.options.finishBody || {};\n      }\n\n      /**\n       * Gets the headers of the requests from options\n       */\n\n    }, {\n      key: 'headers',\n      get: function get() {\n        return this.options.headers || {};\n      }\n\n      /**\n       * Whether it's ready to upload files or not\n       */\n\n    }, {\n      key: 'readyToUpload',\n      get: function get() {\n        return !!this.chunks;\n      }\n\n      /**\n       * Gets the progress of the chunk upload\n       * - Gets all the completed chunks\n       * - Gets the progress of all the chunks that are being uploaded\n       */\n\n    }, {\n      key: 'progress',\n      get: function get() {\n        var _this6 = this;\n\n        var completedProgress = this.chunksUploaded.length / this.chunks.length * 100;\n        var uploadingProgress = this.chunksUploading.reduce(function (progress, chunk) {\n          return progress + (chunk.progress | 0) / _this6.chunks.length;\n        }, 0);\n\n        return Math.min(completedProgress + uploadingProgress, 100);\n      }\n\n      /**\n       * Gets all the chunks that are pending to be uploaded\n       */\n\n    }, {\n      key: 'chunksToUpload',\n      get: function get() {\n        return this.chunks.filter(function (chunk) {\n          return !chunk.active && !chunk.uploaded;\n        });\n      }\n\n      /**\n       * Whether there are chunks to upload or not\n       */\n\n    }, {\n      key: 'hasChunksToUpload',\n      get: function get() {\n        return this.chunksToUpload.length > 0;\n      }\n\n      /**\n       * Gets all the chunks that are uploading\n       */\n\n    }, {\n      key: 'chunksUploading',\n      get: function get() {\n        return this.chunks.filter(function (chunk) {\n          return !!chunk.xhr && !!chunk.active;\n        });\n      }\n\n      /**\n       * Gets all the chunks that have finished uploading\n       */\n\n    }, {\n      key: 'chunksUploaded',\n      get: function get() {\n        return this.chunks.filter(function (chunk) {\n          return !!chunk.uploaded;\n        });\n      }\n    }]);\n\n    return ChunkUploadHandler;\n  }();\n\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n\n  var script = {\n    methods: {\n      change: function change(e) {\n        this.$parent.addInputFile(e.target);\n        if (e.target.files) {\n          e.target.value = '';\n          if (e.target.files.length && !/safari/i.test(navigator.userAgent)) {\n            e.target.type = '';\n            e.target.type = 'file';\n          }\n        } else {\n          // ie9 fix #219\n          this.$destroy();\n          // eslint-disable-next-line\n          new this.constructor({\n            parent: this.$parent,\n            el: this.$el\n          });\n        }\n      }\n    }\n  };\n\n  function normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier\n  /* server only */\n  , shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n    if (typeof shadowMode !== 'boolean') {\n      createInjectorSSR = createInjector;\n      createInjector = shadowMode;\n      shadowMode = false;\n    } // Vue.extend constructor export interop.\n\n\n    var options = typeof script === 'function' ? script.options : script; // render functions\n\n    if (template && template.render) {\n      options.render = template.render;\n      options.staticRenderFns = template.staticRenderFns;\n      options._compiled = true; // functional template\n\n      if (isFunctionalTemplate) {\n        options.functional = true;\n      }\n    } // scopedId\n\n\n    if (scopeId) {\n      options._scopeId = scopeId;\n    }\n\n    var hook;\n\n    if (moduleIdentifier) {\n      // server build\n      hook = function hook(context) {\n        // 2.3 injection\n        context = context || // cached call\n        this.$vnode && this.$vnode.ssrContext || // stateful\n        this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext; // functional\n        // 2.2 with runInNewContext: true\n\n        if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n          context = __VUE_SSR_CONTEXT__;\n        } // inject component styles\n\n\n        if (style) {\n          style.call(this, createInjectorSSR(context));\n        } // register component module identifier for async chunk inference\n\n\n        if (context && context._registeredComponents) {\n          context._registeredComponents.add(moduleIdentifier);\n        }\n      }; // used by ssr in case component is cached and beforeCreate\n      // never gets called\n\n\n      options._ssrRegister = hook;\n    } else if (style) {\n      hook = shadowMode ? function () {\n        style.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n      } : function (context) {\n        style.call(this, createInjector(context));\n      };\n    }\n\n    if (hook) {\n      if (options.functional) {\n        // register for functional component in vue file\n        var originalRender = options.render;\n\n        options.render = function renderWithStyleInjection(h, context) {\n          hook.call(context);\n          return originalRender(h, context);\n        };\n      } else {\n        // inject component registration as beforeCreate hook\n        var existing = options.beforeCreate;\n        options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n      }\n    }\n\n    return script;\n  }\n\n  var normalizeComponent_1 = normalizeComponent;\n\n  /* script */\n  var __vue_script__ = script;\n\n  /* template */\n  var __vue_render__ = function __vue_render__() {\n    var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;return _c('input', { attrs: { \"type\": \"file\", \"name\": _vm.$parent.name, \"id\": _vm.$parent.inputId || _vm.$parent.name, \"accept\": _vm.$parent.accept, \"capture\": _vm.$parent.capture, \"disabled\": _vm.$parent.disabled, \"webkitdirectory\": _vm.$parent.directory && _vm.$parent.features.directory, \"directory\": _vm.$parent.directory && _vm.$parent.features.directory, \"multiple\": _vm.$parent.multiple && _vm.$parent.features.html5 }, on: { \"change\": _vm.change } });\n  };\n  var __vue_staticRenderFns__ = [];\n\n  /* style */\n  var __vue_inject_styles__ = undefined;\n  /* scoped */\n  var __vue_scope_id__ = undefined;\n  /* module identifier */\n  var __vue_module_identifier__ = undefined;\n  /* functional template */\n  var __vue_is_functional_template__ = false;\n  /* style inject */\n\n  /* style inject SSR */\n\n  var InputFile = normalizeComponent_1({ render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ }, __vue_inject_styles__, __vue_script__, __vue_scope_id__, __vue_is_functional_template__, __vue_module_identifier__, undefined, undefined);\n\n  var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n  function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n  var CHUNK_DEFAULT_OPTIONS = {\n    headers: {},\n    action: '',\n    minSize: 1048576,\n    maxActive: 3,\n    maxRetries: 5,\n\n    handler: ChunkUploadHandler\n  };\n\n  var script$1 = {\n    components: {\n      InputFile: InputFile\n    },\n    props: {\n      inputId: {\n        type: String\n      },\n\n      name: {\n        type: String,\n        default: 'file'\n      },\n\n      accept: {\n        type: String\n      },\n\n      capture: {},\n\n      disabled: {},\n\n      multiple: {\n        type: Boolean\n      },\n\n      maximum: {\n        type: Number,\n        default: function _default() {\n          return this.multiple ? 0 : 1;\n        }\n      },\n\n      addIndex: {\n        type: [Boolean, Number]\n      },\n\n      directory: {\n        type: Boolean\n      },\n\n      postAction: {\n        type: String\n      },\n\n      putAction: {\n        type: String\n      },\n\n      customAction: {\n        type: Function\n      },\n\n      headers: {\n        type: Object,\n        default: Object\n      },\n\n      data: {\n        type: Object,\n        default: Object\n      },\n\n      timeout: {\n        type: Number,\n        default: 0\n      },\n\n      drop: {\n        default: false\n      },\n\n      dropDirectory: {\n        type: Boolean,\n        default: true\n      },\n\n      size: {\n        type: Number,\n        default: 0\n      },\n\n      extensions: {\n        default: Array\n      },\n\n      value: {\n        type: Array,\n        default: Array\n      },\n\n      thread: {\n        type: Number,\n        default: 1\n      },\n\n      // Chunk upload enabled\n      chunkEnabled: {\n        type: Boolean,\n        default: false\n      },\n\n      // Chunk upload properties\n      chunk: {\n        type: Object,\n        default: function _default() {\n          return CHUNK_DEFAULT_OPTIONS;\n        }\n      }\n    },\n\n    data: function data() {\n      return {\n        files: this.value,\n        features: {\n          html5: true,\n          directory: false,\n          drop: false\n        },\n\n        active: false,\n        dropActive: false,\n\n        uploading: 0,\n\n        destroy: false\n      };\n    },\n\n\n    /**\n     * mounted\n     * @return {[type]} [description]\n     */\n    mounted: function mounted() {\n      var input = document.createElement('input');\n      input.type = 'file';\n      input.multiple = true;\n\n      // html5 特征\n      if (window.FormData && input.files) {\n        // 上传目录特征\n        if (typeof input.webkitdirectory === 'boolean' || typeof input.directory === 'boolean') {\n          this.features.directory = true;\n        }\n\n        // 拖拽特征\n        if (this.features.html5 && typeof input.ondrop !== 'undefined') {\n          this.features.drop = true;\n        }\n      } else {\n        this.features.html5 = false;\n      }\n\n      // files 定位缓存\n      this.maps = {};\n      if (this.files) {\n        for (var i = 0; i < this.files.length; i++) {\n          var file = this.files[i];\n          this.maps[file.id] = file;\n        }\n      }\n\n      this.$nextTick(function () {\n        var _this = this;\n\n        // 更新下父级\n        if (this.$parent) {\n          this.$parent.$forceUpdate();\n          // 拖拽渲染\n          this.$parent.$nextTick(function () {\n            _this.watchDrop(_this.drop);\n          });\n        } else {\n          // 拖拽渲染\n          this.watchDrop(this.drop);\n        }\n      });\n    },\n\n\n    /**\n     * beforeDestroy\n     * @return {[type]} [description]\n     */\n    beforeDestroy: function beforeDestroy() {\n      // 已销毁\n      this.destroy = true;\n\n      // 设置成不激活\n      this.active = false;\n\n      // 销毁拖拽事件\n      this.watchDrop(false);\n    },\n\n\n    computed: {\n      /**\n       * uploading 正在上传的线程\n       * @return {[type]} [description]\n       */\n\n      /**\n       * uploaded 文件列表是否全部已上传\n       * @return {[type]} [description]\n       */\n      uploaded: function uploaded() {\n        var file = void 0;\n        for (var i = 0; i < this.files.length; i++) {\n          file = this.files[i];\n          if (file.fileObject && !file.error && !file.success) {\n            return false;\n          }\n        }\n        return true;\n      },\n      chunkOptions: function chunkOptions() {\n        return Object.assign(CHUNK_DEFAULT_OPTIONS, this.chunk);\n      },\n      className: function className() {\n        return ['file-uploads', this.features.html5 ? 'file-uploads-html5' : 'file-uploads-html4', this.features.directory && this.directory ? 'file-uploads-directory' : undefined, this.features.drop && this.drop ? 'file-uploads-drop' : undefined, this.disabled ? 'file-uploads-disabled' : undefined];\n      }\n    },\n\n    watch: {\n      active: function active(_active) {\n        this.watchActive(_active);\n      },\n      dropActive: function dropActive() {\n        if (this.$parent) {\n          this.$parent.$forceUpdate();\n        }\n      },\n      drop: function drop(value) {\n        this.watchDrop(value);\n      },\n      value: function value(files) {\n        if (this.files === files) {\n          return;\n        }\n        this.files = files;\n\n        var oldMaps = this.maps;\n\n        // 重写 maps 缓存\n        this.maps = {};\n        for (var i = 0; i < this.files.length; i++) {\n          var file = this.files[i];\n          this.maps[file.id] = file;\n        }\n\n        // add, update\n        for (var key in this.maps) {\n          var newFile = this.maps[key];\n          var oldFile = oldMaps[key];\n          if (newFile !== oldFile) {\n            this.emitFile(newFile, oldFile);\n          }\n        }\n\n        // delete\n        for (var _key in oldMaps) {\n          if (!this.maps[_key]) {\n            this.emitFile(undefined, oldMaps[_key]);\n          }\n        }\n      }\n    },\n\n    methods: {\n\n      // 清空\n      clear: function clear() {\n        if (this.files.length) {\n          var files = this.files;\n          this.files = [];\n\n          // 定位\n          this.maps = {};\n\n          // 事件\n          this.emitInput();\n          for (var i = 0; i < files.length; i++) {\n            this.emitFile(undefined, files[i]);\n          }\n        }\n        return true;\n      },\n\n\n      // 选择\n      get: function get(id) {\n        if (!id) {\n          return false;\n        }\n\n        if ((typeof id === 'undefined' ? 'undefined' : _typeof(id)) === 'object') {\n          return this.maps[id.id] || false;\n        }\n\n        return this.maps[id] || false;\n      },\n\n\n      // 添加\n      add: function add(_files) {\n        var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.addIndex;\n\n        var files = _files;\n        var isArray = files instanceof Array;\n\n        // 不是数组整理成数组\n        if (!isArray) {\n          files = [files];\n        }\n\n        // 遍历规范对象\n        var addFiles = [];\n        for (var i = 0; i < files.length; i++) {\n          var file = files[i];\n          if (this.features.html5 && file instanceof Blob) {\n            file = {\n              file: file,\n              size: file.size,\n              name: file.webkitRelativePath || file.relativePath || file.name || 'unknown',\n              type: file.type\n            };\n          }\n          var fileObject = false;\n          if (file.fileObject === false) ; else if (file.fileObject) {\n            fileObject = true;\n          } else if (typeof Element !== 'undefined' && file.el instanceof Element) {\n            fileObject = true;\n          } else if (typeof Blob !== 'undefined' && file.file instanceof Blob) {\n            fileObject = true;\n          }\n          if (fileObject) {\n            file = _extends({\n              fileObject: true,\n              size: -1,\n              name: 'Filename',\n              type: '',\n              active: false,\n              error: '',\n              success: false,\n              putAction: this.putAction,\n              postAction: this.postAction,\n              timeout: this.timeout\n            }, file, {\n              response: {},\n\n              progress: '0.00', // 只读\n              speed: 0 // 只读\n              // xhr: false,                // 只读\n              // iframe: false,             // 只读\n            });\n\n            file.data = _extends({}, this.data, file.data ? file.data : {});\n\n            file.headers = _extends({}, this.headers, file.headers ? file.headers : {});\n          }\n\n          // 必须包含 id\n          if (!file.id) {\n            file.id = Math.random().toString(36).substr(2);\n          }\n\n          if (this.emitFilter(file, undefined)) {\n            continue;\n          }\n\n          // 最大数量限制\n          if (this.maximum > 1 && addFiles.length + this.files.length >= this.maximum) {\n            break;\n          }\n\n          addFiles.push(file);\n\n          // 最大数量限制\n          if (this.maximum === 1) {\n            break;\n          }\n        }\n\n        // 没有文件\n        if (!addFiles.length) {\n          return false;\n        }\n\n        // 如果是 1 清空\n        if (this.maximum === 1) {\n          this.clear();\n        }\n\n        // 添加进去 files\n        var newFiles = void 0;\n        if (index === true || index === 0) {\n          newFiles = addFiles.concat(this.files);\n        } else if (index) {\n          var _newFiles;\n\n          newFiles = this.files.concat([]);\n          (_newFiles = newFiles).splice.apply(_newFiles, [index, 0].concat(addFiles));\n        } else {\n          newFiles = this.files.concat(addFiles);\n        }\n\n        this.files = newFiles;\n\n        // 定位\n        for (var _i = 0; _i < addFiles.length; _i++) {\n          var _file2 = addFiles[_i];\n          this.maps[_file2.id] = _file2;\n        }\n\n        // 事件\n        this.emitInput();\n        for (var _i2 = 0; _i2 < addFiles.length; _i2++) {\n          this.emitFile(addFiles[_i2], undefined);\n        }\n\n        return isArray ? addFiles : addFiles[0];\n      },\n\n\n      // 添加表单文件\n      addInputFile: function addInputFile(el) {\n        var files = [];\n        if (el.files) {\n          for (var i = 0; i < el.files.length; i++) {\n            var file = el.files[i];\n            files.push({\n              size: file.size,\n              name: file.webkitRelativePath || file.relativePath || file.name,\n              type: file.type,\n              file: file\n            });\n          }\n        } else {\n          var names = el.value.replace(/\\\\/g, '/').split('/');\n          delete el.__vuex__;\n          files.push({\n            name: names[names.length - 1],\n            el: el\n          });\n        }\n        return this.add(files);\n      },\n\n\n      // 添加 DataTransfer\n      addDataTransfer: function addDataTransfer(dataTransfer) {\n        var _this2 = this;\n\n        var files = [];\n        if (dataTransfer.items && dataTransfer.items.length) {\n          var items = [];\n          for (var i = 0; i < dataTransfer.items.length; i++) {\n            var item = dataTransfer.items[i];\n            if (item.getAsEntry) {\n              item = item.getAsEntry() || item.getAsFile();\n            } else if (item.webkitGetAsEntry) {\n              item = item.webkitGetAsEntry() || item.getAsFile();\n            } else {\n              item = item.getAsFile();\n            }\n            if (item) {\n              items.push(item);\n            }\n          }\n\n          return new Promise(function (resolve, reject) {\n            var forEach = function forEach(i) {\n              var item = items[i];\n              // 结束 文件数量大于 最大数量\n              if (!item || _this2.maximum > 0 && files.length >= _this2.maximum) {\n                return resolve(_this2.add(files));\n              }\n              _this2.getEntry(item).then(function (results) {\n                files.push.apply(files, _toConsumableArray(results));\n                forEach(i + 1);\n              });\n            };\n            forEach(0);\n          });\n        }\n\n        if (dataTransfer.files.length) {\n          for (var _i3 = 0; _i3 < dataTransfer.files.length; _i3++) {\n            files.push(dataTransfer.files[_i3]);\n            if (this.maximum > 0 && files.length >= this.maximum) {\n              break;\n            }\n          }\n          return Promise.resolve(this.add(files));\n        }\n\n        return Promise.resolve([]);\n      },\n\n\n      // 获得 entry\n      getEntry: function getEntry(entry) {\n        var _this3 = this;\n\n        var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n        return new Promise(function (resolve, reject) {\n          if (entry.isFile) {\n            entry.file(function (file) {\n              resolve([{\n                size: file.size,\n                name: path + file.name,\n                type: file.type,\n                file: file\n              }]);\n            });\n          } else if (entry.isDirectory && _this3.dropDirectory) {\n            var files = [];\n            var dirReader = entry.createReader();\n            var readEntries = function readEntries() {\n              dirReader.readEntries(function (entries) {\n                var forEach = function forEach(i) {\n                  if (!entries[i] && i === 0 || _this3.maximum > 0 && files.length >= _this3.maximum) {\n                    return resolve(files);\n                  }\n                  if (!entries[i]) {\n                    return readEntries();\n                  }\n                  _this3.getEntry(entries[i], path + entry.name + '/').then(function (results) {\n                    files.push.apply(files, _toConsumableArray(results));\n                    forEach(i + 1);\n                  });\n                };\n                forEach(0);\n              });\n            };\n            readEntries();\n          } else {\n            resolve([]);\n          }\n        });\n      },\n      replace: function replace(id1, id2) {\n        var file1 = this.get(id1);\n        var file2 = this.get(id2);\n        if (!file1 || !file2 || file1 === file2) {\n          return false;\n        }\n        var files = this.files.concat([]);\n        var index1 = files.indexOf(file1);\n        var index2 = files.indexOf(file2);\n        if (index1 === -1 || index2 === -1) {\n          return false;\n        }\n        files[index1] = file2;\n        files[index2] = file1;\n        this.files = files;\n        this.emitInput();\n        return true;\n      },\n\n\n      // 移除\n      remove: function remove(id) {\n        var file = this.get(id);\n        if (file) {\n          if (this.emitFilter(undefined, file)) {\n            return false;\n          }\n          var files = this.files.concat([]);\n          var index = files.indexOf(file);\n          if (index === -1) {\n            console.error('remove', file);\n            return false;\n          }\n          files.splice(index, 1);\n          this.files = files;\n\n          // 定位\n          delete this.maps[file.id];\n\n          // 事件\n          this.emitInput();\n          this.emitFile(undefined, file);\n        }\n        return file;\n      },\n\n\n      // 更新\n      update: function update(id, data) {\n        var file = this.get(id);\n        if (file) {\n          var newFile = _extends({}, file, data);\n          // 停用必须加上错误\n          if (file.fileObject && file.active && !newFile.active && !newFile.error && !newFile.success) {\n            newFile.error = 'abort';\n          }\n\n          if (this.emitFilter(newFile, file)) {\n            return false;\n          }\n\n          var files = this.files.concat([]);\n          var index = files.indexOf(file);\n          if (index === -1) {\n            console.error('update', file);\n            return false;\n          }\n          files.splice(index, 1, newFile);\n          this.files = files;\n\n          // 删除  旧定位 写入 新定位 （已便支持修改id)\n          delete this.maps[file.id];\n          this.maps[newFile.id] = newFile;\n\n          // 事件\n          this.emitInput();\n          this.emitFile(newFile, file);\n          return newFile;\n        }\n        return false;\n      },\n\n\n      // 预处理 事件 过滤器\n      emitFilter: function emitFilter(newFile, oldFile) {\n        var isPrevent = false;\n        this.$emit('input-filter', newFile, oldFile, function () {\n          isPrevent = true;\n          return isPrevent;\n        });\n        return isPrevent;\n      },\n\n\n      // 处理后 事件 分发\n      emitFile: function emitFile(newFile, oldFile) {\n        this.$emit('input-file', newFile, oldFile);\n        if (newFile && newFile.fileObject && newFile.active && (!oldFile || !oldFile.active)) {\n          this.uploading++;\n          // 激活\n          this.$nextTick(function () {\n            var _this4 = this;\n\n            setTimeout(function () {\n              _this4.upload(newFile).then(function () {\n                // eslint-disable-next-line\n                newFile = _this4.get(newFile);\n                if (newFile && newFile.fileObject) {\n                  _this4.update(newFile, {\n                    active: false,\n                    success: !newFile.error\n                  });\n                }\n              }).catch(function (e) {\n                _this4.update(newFile, {\n                  active: false,\n                  success: false,\n                  error: e.code || e.error || e.message || e\n                });\n              });\n            }, parseInt(Math.random() * 50 + 50, 10));\n          });\n        } else if ((!newFile || !newFile.fileObject || !newFile.active) && oldFile && oldFile.fileObject && oldFile.active) {\n          // 停止\n          this.uploading--;\n        }\n\n        // 自动延续激活\n        if (this.active && (Boolean(newFile) !== Boolean(oldFile) || newFile.active !== oldFile.active)) {\n          this.watchActive(true);\n        }\n      },\n      emitInput: function emitInput() {\n        this.$emit('input', this.files);\n      },\n\n\n      // 上传\n      upload: function upload(id) {\n        var file = this.get(id);\n\n        // 被删除\n        if (!file) {\n          return Promise.reject('not_exists');\n        }\n\n        // 不是文件对象\n        if (!file.fileObject) {\n          return Promise.reject('file_object');\n        }\n\n        // 有错误直接响应\n        if (file.error) {\n          return Promise.reject(file.error);\n        }\n\n        // 已完成直接响应\n        if (file.success) {\n          return Promise.resolve(file);\n        }\n\n        // 后缀\n        var extensions = this.extensions;\n        if (extensions && (extensions.length || typeof extensions.length === 'undefined')) {\n          if ((typeof extensions === 'undefined' ? 'undefined' : _typeof(extensions)) !== 'object' || !(extensions instanceof RegExp)) {\n            if (typeof extensions === 'string') {\n              extensions = extensions.split(',').map(function (value) {\n                return value.trim();\n              }).filter(function (value) {\n                return value;\n              });\n            }\n            extensions = new RegExp('\\\\.(' + extensions.join('|').replace(/\\./g, '\\\\.') + ')$', 'i');\n          }\n          if (file.name.search(extensions) === -1) {\n            return Promise.reject('extension');\n          }\n        }\n\n        // 大小\n        if (this.size > 0 && file.size >= 0 && file.size > this.size) {\n          return Promise.reject('size');\n        }\n\n        if (this.customAction) {\n          return this.customAction(file, this);\n        }\n\n        if (this.features.html5) {\n          if (this.shouldUseChunkUpload(file)) {\n            return this.uploadChunk(file);\n          }\n          if (file.putAction) {\n            return this.uploadPut(file);\n          }\n          if (file.postAction) {\n            return this.uploadHtml5(file);\n          }\n        }\n        if (file.postAction) {\n          return this.uploadHtml4(file);\n        }\n        return Promise.reject('No action configured');\n      },\n\n\n      /**\n       * Whether this file should be uploaded using chunk upload or not\n       *\n       * @param Object file\n       */\n      shouldUseChunkUpload: function shouldUseChunkUpload(file) {\n        return this.chunkEnabled && !!this.chunkOptions.handler && file.size > this.chunkOptions.minSize;\n      },\n\n\n      /**\n       * Upload a file using Chunk method\n       *\n       * @param File file\n       */\n      uploadChunk: function uploadChunk(file) {\n        var HandlerClass = this.chunkOptions.handler;\n        file.chunk = new HandlerClass(file, this.chunkOptions);\n\n        return file.chunk.upload();\n      },\n      uploadPut: function uploadPut(file) {\n        var querys = [];\n        var value = void 0;\n        for (var key in file.data) {\n          value = file.data[key];\n          if (value !== null && value !== undefined) {\n            querys.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n          }\n        }\n        var queryString = querys.length ? (file.putAction.indexOf('?') === -1 ? '?' : '&') + querys.join('&') : '';\n        var xhr = new XMLHttpRequest();\n        xhr.open('PUT', file.putAction + queryString);\n        return this.uploadXhr(xhr, file, file.file);\n      },\n      uploadHtml5: function uploadHtml5(file) {\n        var form = new window.FormData();\n        var value = void 0;\n        for (var key in file.data) {\n          value = file.data[key];\n          if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && typeof value.toString !== 'function') {\n            if (value instanceof File) {\n              form.append(key, value, value.name);\n            } else {\n              form.append(key, JSON.stringify(value));\n            }\n          } else if (value !== null && value !== undefined) {\n            form.append(key, value);\n          }\n        }\n        form.append(this.name, file.file, file.file.filename || file.name);\n        var xhr = new XMLHttpRequest();\n        xhr.open('POST', file.postAction);\n        return this.uploadXhr(xhr, file, form);\n      },\n      uploadXhr: function uploadXhr(xhr, _file, body) {\n        var _this5 = this;\n\n        var file = _file;\n        var speedTime = 0;\n        var speedLoaded = 0;\n\n        // 进度条\n        xhr.upload.onprogress = function (e) {\n          // 还未开始上传 已删除 未激活\n          file = _this5.get(file);\n          if (!e.lengthComputable || !file || !file.fileObject || !file.active) {\n            return;\n          }\n\n          // 进度 速度 每秒更新一次\n          var speedTime2 = Math.round(Date.now() / 1000);\n          if (speedTime2 === speedTime) {\n            return;\n          }\n          speedTime = speedTime2;\n\n          file = _this5.update(file, {\n            progress: (e.loaded / e.total * 100).toFixed(2),\n            speed: e.loaded - speedLoaded\n          });\n          speedLoaded = e.loaded;\n        };\n\n        // 检查激活状态\n        var interval = setInterval(function () {\n          file = _this5.get(file);\n          if (file && file.fileObject && !file.success && !file.error && file.active) {\n            return;\n          }\n\n          if (interval) {\n            clearInterval(interval);\n            interval = false;\n          }\n\n          try {\n            xhr.abort();\n            xhr.timeout = 1;\n          } catch (e) {}\n        }, 100);\n\n        return new Promise(function (resolve, reject) {\n          var complete = void 0;\n          var fn = function fn(e) {\n            // 已经处理过了\n            if (complete) {\n              return;\n            }\n            complete = true;\n            if (interval) {\n              clearInterval(interval);\n              interval = false;\n            }\n\n            file = _this5.get(file);\n\n            // 不存在直接响应\n            if (!file) {\n              return reject('not_exists');\n            }\n\n            // 不是文件对象\n            if (!file.fileObject) {\n              return reject('file_object');\n            }\n\n            // 有错误自动响应\n            if (file.error) {\n              return reject(file.error);\n            }\n\n            // 未激活\n            if (!file.active) {\n              return reject('abort');\n            }\n\n            // 已完成 直接相应\n            if (file.success) {\n              return resolve(file);\n            }\n\n            var data = {};\n\n            switch (e.type) {\n              case 'timeout':\n              case 'abort':\n                data.error = e.type;\n                break;\n              case 'error':\n                if (!xhr.status) {\n                  data.error = 'network';\n                } else if (xhr.status >= 500) {\n                  data.error = 'server';\n                } else if (xhr.status >= 400) {\n                  data.error = 'denied';\n                }\n                break;\n              default:\n                if (xhr.status >= 500) {\n                  data.error = 'server';\n                } else if (xhr.status >= 400) {\n                  data.error = 'denied';\n                } else {\n                  data.progress = '100.00';\n                }\n            }\n\n            if (xhr.responseText) {\n              var contentType = xhr.getResponseHeader('Content-Type');\n              if (contentType && contentType.indexOf('/json') !== -1) {\n                data.response = JSON.parse(xhr.responseText);\n              } else {\n                data.response = xhr.responseText;\n              }\n            }\n\n            // 更新\n            file = _this5.update(file, data);\n\n            // 相应错误\n            if (file.error) {\n              return reject(file.error);\n            }\n\n            // 响应\n            return resolve(file);\n          };\n\n          // 事件\n          xhr.onload = fn;\n          xhr.onerror = fn;\n          xhr.onabort = fn;\n          xhr.ontimeout = fn;\n\n          // 超时\n          if (file.timeout) {\n            xhr.timeout = file.timeout;\n          }\n\n          // headers\n          for (var key in file.headers) {\n            xhr.setRequestHeader(key, file.headers[key]);\n          }\n\n          // 更新 xhr\n          file = _this5.update(file, { xhr: xhr });\n\n          // 开始上传\n          xhr.send(body);\n        });\n      },\n      uploadHtml4: function uploadHtml4(_file) {\n        var _this6 = this;\n\n        var file = _file;\n        var onKeydown = function onKeydown(e) {\n          if (e.keyCode === 27) {\n            e.preventDefault();\n          }\n        };\n\n        var iframe = document.createElement('iframe');\n        iframe.id = 'upload-iframe-' + file.id;\n        iframe.name = 'upload-iframe-' + file.id;\n        iframe.src = 'about:blank';\n        iframe.setAttribute('style', 'width:1px;height:1px;top:-999em;position:absolute; margin-top:-999em;');\n\n        var form = document.createElement('form');\n\n        form.action = file.postAction;\n\n        form.name = 'upload-form-' + file.id;\n\n        form.setAttribute('method', 'POST');\n        form.setAttribute('target', 'upload-iframe-' + file.id);\n        form.setAttribute('enctype', 'multipart/form-data');\n\n        var value = void 0;\n        var input = void 0;\n        for (var key in file.data) {\n          value = file.data[key];\n          if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && typeof value.toString !== 'function') {\n            value = JSON.stringify(value);\n          }\n          if (value !== null && value !== undefined) {\n            input = document.createElement('input');\n            input.type = 'hidden';\n            input.name = key;\n            input.value = value;\n            form.appendChild(input);\n          }\n        }\n        form.appendChild(file.el);\n\n        document.body.appendChild(iframe).appendChild(form);\n\n        var getResponseData = function getResponseData() {\n          var doc = void 0;\n          try {\n            if (iframe.contentWindow) {\n              doc = iframe.contentWindow.document;\n            }\n          } catch (err) {}\n          if (!doc) {\n            try {\n              doc = iframe.contentDocument ? iframe.contentDocument : iframe.document;\n            } catch (err) {\n              doc = iframe.document;\n            }\n          }\n          if (doc && doc.body) {\n            return doc.body.innerHTML;\n          }\n          return null;\n        };\n\n        return new Promise(function (resolve, reject) {\n          setTimeout(function () {\n            file = _this6.update(file, { iframe: iframe });\n\n            // 不存在\n            if (!file) {\n              return reject('not_exists');\n            }\n\n            // 定时检查\n            var interval = setInterval(function () {\n              file = _this6.get(file);\n              if (file && file.fileObject && !file.success && !file.error && file.active) {\n                return;\n              }\n\n              if (interval) {\n                clearInterval(interval);\n                interval = false;\n              }\n\n              iframe.onabort({ type: file ? 'abort' : 'not_exists' });\n            }, 100);\n\n            var complete = void 0;\n            var fn = function fn(e) {\n              // 已经处理过了\n              if (complete) {\n                return;\n              }\n              complete = true;\n\n              if (interval) {\n                clearInterval(interval);\n                interval = false;\n              }\n\n              // 关闭 esc 事件\n              document.body.removeEventListener('keydown', onKeydown);\n\n              file = _this6.get(file);\n\n              // 不存在直接响应\n              if (!file) {\n                return reject('not_exists');\n              }\n\n              // 不是文件对象\n              if (!file.fileObject) {\n                return reject('file_object');\n              }\n\n              // 有错误自动响应\n              if (file.error) {\n                return reject(file.error);\n              }\n\n              // 未激活\n              if (!file.active) {\n                return reject('abort');\n              }\n\n              // 已完成 直接相应\n              if (file.success) {\n                return resolve(file);\n              }\n\n              var response = getResponseData();\n              var data = {};\n              switch (e.type) {\n                case 'abort':\n                  data.error = 'abort';\n                  break;\n                case 'error':\n                  if (file.error) {\n                    data.error = file.error;\n                  } else if (response === null) {\n                    data.error = 'network';\n                  } else {\n                    data.error = 'denied';\n                  }\n                  break;\n                default:\n                  if (file.error) {\n                    data.error = file.error;\n                  } else if (data === null) {\n                    data.error = 'network';\n                  } else {\n                    data.progress = '100.00';\n                  }\n              }\n\n              if (response !== null) {\n                if (response && response.substr(0, 1) === '{' && response.substr(response.length - 1, 1) === '}') {\n                  try {\n                    response = JSON.parse(response);\n                  } catch (err) {}\n                }\n                data.response = response;\n              }\n\n              // 更新\n              file = _this6.update(file, data);\n\n              if (file.error) {\n                return reject(file.error);\n              }\n\n              // 响应\n              return resolve(file);\n            };\n\n            // 添加事件\n            iframe.onload = fn;\n            iframe.onerror = fn;\n            iframe.onabort = fn;\n\n            // 禁止 esc 键\n            document.body.addEventListener('keydown', onKeydown);\n\n            // 提交\n            form.submit();\n          }, 50);\n        }).then(function (res) {\n          iframe.parentNode && iframe.parentNode.removeChild(iframe);\n          return res;\n        }).catch(function (res) {\n          iframe.parentNode && iframe.parentNode.removeChild(iframe);\n          return res;\n        });\n      },\n      watchActive: function watchActive(active) {\n        var file = void 0;\n        var index = 0;\n        while (file = this.files[index]) {\n          index++;\n          if (!file.fileObject) ; else if (active && !this.destroy) {\n            if (this.uploading >= this.thread || this.uploading && !this.features.html5) {\n              break;\n            }\n            if (!file.active && !file.error && !file.success) {\n              this.update(file, { active: true });\n            }\n          } else {\n            if (file.active) {\n              this.update(file, { active: false });\n            }\n          }\n        }\n        if (this.uploading === 0) {\n          this.active = false;\n        }\n      },\n      watchDrop: function watchDrop(_el) {\n        var el = _el;\n        if (!this.features.drop) {\n          return;\n        }\n\n        // 移除挂载\n        if (this.dropElement) {\n          try {\n            document.removeEventListener('dragenter', this.onDragenter, false);\n            document.removeEventListener('dragleave', this.onDragleave, false);\n            document.removeEventListener('drop', this.onDocumentDrop, false);\n            this.dropElement.removeEventListener('dragover', this.onDragover, false);\n            this.dropElement.removeEventListener('drop', this.onDrop, false);\n          } catch (e) {}\n        }\n\n        if (!el) {\n          el = false;\n        } else if (typeof el === 'string') {\n          el = document.querySelector(el) || this.$root.$el.querySelector(el);\n        } else if (el === true) {\n          el = this.$parent.$el;\n        }\n\n        this.dropElement = el;\n\n        if (this.dropElement) {\n          document.addEventListener('dragenter', this.onDragenter, false);\n          document.addEventListener('dragleave', this.onDragleave, false);\n          document.addEventListener('drop', this.onDocumentDrop, false);\n          this.dropElement.addEventListener('dragover', this.onDragover, false);\n          this.dropElement.addEventListener('drop', this.onDrop, false);\n        }\n      },\n      onDragenter: function onDragenter(e) {\n        e.preventDefault();\n        if (this.dropActive) {\n          return;\n        }\n        if (!e.dataTransfer) {\n          return;\n        }\n        var dt = e.dataTransfer;\n        if (dt.files && dt.files.length) {\n          this.dropActive = true;\n        } else if (!dt.types) {\n          this.dropActive = true;\n        } else if (dt.types.indexOf && dt.types.indexOf('Files') !== -1) {\n          this.dropActive = true;\n        } else if (dt.types.contains && dt.types.contains('Files')) {\n          this.dropActive = true;\n        }\n      },\n      onDragleave: function onDragleave(e) {\n        e.preventDefault();\n        if (!this.dropActive) {\n          return;\n        }\n        if (e.target.nodeName === 'HTML' || e.target === e.explicitOriginalTarget || !e.fromElement && (e.clientX <= 0 || e.clientY <= 0 || e.clientX >= window.innerWidth || e.clientY >= window.innerHeight)) {\n          this.dropActive = false;\n        }\n      },\n      onDragover: function onDragover(e) {\n        e.preventDefault();\n      },\n      onDocumentDrop: function onDocumentDrop() {\n        this.dropActive = false;\n      },\n      onDrop: function onDrop(e) {\n        e.preventDefault();\n        this.addDataTransfer(e.dataTransfer);\n      }\n    }\n  };\n\n  var isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\n  function createInjector(context) {\n    return function (id, style) {\n      return addStyle(id, style);\n    };\n  }\n  var HEAD = document.head || document.getElementsByTagName('head')[0];\n  var styles = {};\n\n  function addStyle(id, css) {\n    var group = isOldIE ? css.media || 'default' : id;\n    var style = styles[group] || (styles[group] = {\n      ids: new Set(),\n      styles: []\n    });\n\n    if (!style.ids.has(id)) {\n      style.ids.add(id);\n      var code = css.source;\n\n      if (css.map) {\n        // https://developer.chrome.com/devtools/docs/javascript-debugging\n        // this makes source maps inside style tags work properly in Chrome\n        code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'; // http://stackoverflow.com/a/26603875\n\n        code += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) + ' */';\n      }\n\n      if (!style.element) {\n        style.element = document.createElement('style');\n        style.element.type = 'text/css';\n        if (css.media) style.element.setAttribute('media', css.media);\n        HEAD.appendChild(style.element);\n      }\n\n      if ('styleSheet' in style.element) {\n        style.styles.push(code);\n        style.element.styleSheet.cssText = style.styles.filter(Boolean).join('\\n');\n      } else {\n        var index = style.ids.size - 1;\n        var textNode = document.createTextNode(code);\n        var nodes = style.element.childNodes;\n        if (nodes[index]) style.element.removeChild(nodes[index]);\n        if (nodes.length) style.element.insertBefore(textNode, nodes[index]);else style.element.appendChild(textNode);\n      }\n    }\n  }\n\n  var browser = createInjector;\n\n  /* script */\n  var __vue_script__$1 = script$1;\n\n  /* template */\n  var __vue_render__$1 = function __vue_render__() {\n    var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;return _c('span', { class: _vm.className }, [_vm._t(\"default\"), _vm._v(\" \"), _c('label', { attrs: { \"for\": _vm.inputId || _vm.name } }), _vm._v(\" \"), _c('input-file')], 2);\n  };\n  var __vue_staticRenderFns__$1 = [];\n\n  /* style */\n  var __vue_inject_styles__$1 = function __vue_inject_styles__(inject) {\n    if (!inject) return;\n    inject(\"data-v-76d380b6_0\", { source: \".file-uploads{overflow:hidden;position:relative;text-align:center;display:inline-block}.file-uploads.file-uploads-html4 input,.file-uploads.file-uploads-html5 label{background:#fff;opacity:0;font-size:20em;z-index:1;top:0;left:0;right:0;bottom:0;position:absolute;width:100%;height:100%}.file-uploads.file-uploads-html4 label,.file-uploads.file-uploads-html5 input{background:rgba(255,255,255,0);overflow:hidden;position:fixed;width:1px;height:1px;z-index:-1;opacity:0}\", map: undefined, media: undefined });\n  };\n  /* scoped */\n  var __vue_scope_id__$1 = undefined;\n  /* module identifier */\n  var __vue_module_identifier__$1 = undefined;\n  /* functional template */\n  var __vue_is_functional_template__$1 = false;\n  /* style inject SSR */\n\n  var FileUpload = normalizeComponent_1({ render: __vue_render__$1, staticRenderFns: __vue_staticRenderFns__$1 }, __vue_inject_styles__$1, __vue_script__$1, __vue_scope_id__$1, __vue_is_functional_template__$1, __vue_module_identifier__$1, browser, undefined);\n\n  var FileUpload$1 = /*#__PURE__*/Object.freeze({\n    default: FileUpload\n  });\n\n  function getCjsExportFromNamespace (n) {\n  \treturn n && n['default'] || n;\n  }\n\n  var require$$0 = getCjsExportFromNamespace(FileUpload$1);\n\n  var src = require$$0;\n\n  return src;\n\n})));\n//# sourceMappingURL=vue-upload-component.js.map\n"],"sourceRoot":""}